{
  "file_name": "tools",
  "file_path": "C:\\Users\\lyndz\\Downloads\\hypercode PROJECT\\hypercode\\src\\core\\hypercode-\\src\\tools",
  "file_size": 2509,
  "created": "2025-11-15T15:54:41.094740",
  "modified": "2025-11-17T17:48:31.584658",
  "file_type": "other",
  "content_hash": "1f037feb56c0127e88f653e9ce4ed60d",
  "content_type": "text/unknown",
  "content": "# Copyright 2025 welshDog (Lyndz Williams)\n#\n# Licensed under the MIT License (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     https://opensource.org/licenses/MIT\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\n\"\"\"\nREPL (Read-Eval-Print Loop) for the HyperCode language.\n\"\"\"\n\nimport sys\nfrom pathlib import Path\n\n# Add project root to the Python path\nsys.path.append(str(Path(__file__).parent.parent))\n\nfrom hypercode.core.lexer import Lexer\nfrom core.parser import Parser\nfrom backends.python import PythonBackend\n\ndef start_repl():\n    \"\"\"Starts the HyperCode Read-Eval-Print Loop.\"\"\"\n    print(\"HyperCode REPL (type 'exit' to quit)\")\n\n    lexer = Lexer()\n    backend = PythonBackend()\n\n    # The context in which the generated Python code will be executed\n    exec_context = {}\n\n    while True:\n        try:\n            source = input(\"hc> \")\n            if source.lower() in ('exit', 'quit'):\n                break\n            if not source.strip():\n                continue\n\n            # 1. Lexing\n            tokens = lexer.tokenize(source)\n\n            # 2. Parsing\n            # The parser expects a semicolon at the end of statements.\n            # For the REPL, we can be more lenient and add it if it's missing.\n            if tokens and tokens[-1].type != 'SEMICOLON':\n                last_token = tokens[-1]\n                tokens.append(type(last_token)('SEMICOLON', ';', last_token.line, last_token.column + 1))\n\n            parser = Parser(tokens)\n            ast = parser.parse_program()\n\n            # 3. Code Generation\n            python_code = backend.visit(ast)\n\n            # 4. Evaluation\n            # The `exec` function executes the code in the given context.\n            # We can inspect the `exec_context` to see variables.\n            exec(python_code, exec_context)\n\n            # For simplicity, we don't print results yet, but the context is updated.\n            # A more advanced REPL would parse expressions and print their values.\n\n        except Exception as e:\n            print(f\"Error: {e}\")\n\nif __name__ == \"__main__\":\n    start_repl()\n",
  "metadata": {},
  "relative_path": "src\\core\\hypercode-\\src\\tools",
  "id": "db432288ba2bf9df8ede5d89890ac149"
}