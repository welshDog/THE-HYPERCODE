{
  "file_name": "knowledge-base.md",
  "file_path": "C:\\Users\\lyndz\\Downloads\\hypercode PROJECT\\hypercode\\src\\core\\hypercode-\\docs\\knowledge-base.md",
  "file_size": 10697,
  "created": "2025-11-18T20:29:57.384840",
  "modified": "2025-11-19T16:11:36.389423",
  "file_type": "code",
  "content_hash": "3621514ac499344aefb26765c68d2bab",
  "content_type": "markdown",
  "content": "# HyperCode Knowledge Base Documentation\n\n## Overview\n\nThe HyperCode Knowledge Base is a smart document search and retrieval system designed to\nenhance AI responses with project-specific context. It integrates seamlessly with the\nPerplexity API to provide more accurate, context-aware responses.\n\n## Architecture\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚   User Query    â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n         â”‚\n         v\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  EnhancedPerplexityClient       â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚\nâ”‚  â”‚ 1. Search Knowledge Base  â”‚  â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚\nâ”‚              â”‚                   â”‚\nâ”‚              v                   â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚\nâ”‚  â”‚ 2. Rank & Select Context  â”‚  â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚\nâ”‚              â”‚                   â”‚\nâ”‚              v                   â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚\nâ”‚  â”‚ 3. Enhance Query          â”‚  â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n               â”‚\n               v\n     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n     â”‚ Perplexity API  â”‚\n     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n              â”‚\n              v\n    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n    â”‚ Enhanced Responseâ”‚\n    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n## Core Components\n\n### KnowledgeBase Class\n\n```python\nfrom hypercode.knowledge_base import KnowledgeBase\n\n# Initialize knowledge base\nkb = KnowledgeBase()\n\n# Add documents\nkb.add_document({\n    \"id\": \"hypercode_intro\",\n    \"title\": \"HyperCode Introduction\",\n    \"content\": \"HyperCode is a neurodivergent-first programming language...\",\n    \"tags\": [\"introduction\", \"overview\", \"neurodivergent\"]\n})\n\n# Search documents\nresults = kb.search(\"neurodivergent programming\")\n```\n\n### Document Structure\n\nEach document should follow this structure:\n\n```python\n{\n    \"id\": \"unique_identifier\",          # Required: Unique document ID\n    \"title\": \"Document Title\",          # Required: Human-readable title\n    \"content\": \"Document content...\",   # Required: Full text content\n    \"tags\": [\"tag1\", \"tag2\"],          # Optional: Searchable tags\n    \"metadata\": {                       # Optional: Additional metadata\n        \"author\": \"Name\",\n        \"created_at\": \"2025-11-18\",\n        \"category\": \"documentation\"\n    }\n}\n```\n\n## API Reference\n\n### KnowledgeBase\n\n#### `__init__()`\n\nInitialize a new knowledge base instance.\n\n```python\nkb = KnowledgeBase()\n```\n\n#### `add_document(document: Dict[str, Any]) -> None`\n\nAdd a new document to the knowledge base.\n\n**Parameters:**\n\n- `document`: Dictionary containing document data (see Document Structure)\n\n**Example:**\n\n```python\nkb.add_document({\n    \"id\": \"doc1\",\n    \"title\": \"Getting Started\",\n    \"content\": \"Quick start guide for HyperCode...\"\n})\n```\n\n#### `search(query: str, limit: int = 10) -> List[Dict[str, Any]]`\n\nSearch for relevant documents.\n\n**Parameters:**\n\n- `query`: Search query string\n- `limit`: Maximum number of results (default: 10)\n\n**Returns:**\n\n- List of matching documents, ranked by relevance\n\n**Example:**\n\n```python\nresults = kb.search(\"AI integration\", limit=5)\nfor result in results:\n    print(f\"{result['title']}: {result['score']:.2f}\")\n```\n\n#### `update_document(doc_id: str, updates: Dict[str, Any]) -> None`\n\nUpdate an existing document.\n\n**Parameters:**\n\n- `doc_id`: Document ID to update\n- `updates`: Dictionary of fields to update\n\n**Example:**\n\n```python\nkb.update_document(\"doc1\", {\n    \"content\": \"Updated content...\",\n    \"tags\": [\"updated\", \"v2\"]\n})\n```\n\n#### `remove_document(doc_id: str) -> None`\n\nRemove a document from the knowledge base.\n\n**Parameters:**\n\n- `doc_id`: Document ID to remove\n\n**Example:**\n\n```python\nkb.remove_document(\"doc1\")\n```\n\n## Integration with Perplexity\n\n### EnhancedPerplexityClient\n\nThe `EnhancedPerplexityClient` automatically enhances queries with knowledge base\ncontext.\n\n```python\nfrom hypercode.enhanced_perplexity_client import EnhancedPerplexityClient\nfrom hypercode.knowledge_base import KnowledgeBase\n\n# Initialize\nkb = KnowledgeBase()\nclient = EnhancedPerplexityClient(\n    api_key=\"your_api_key\",\n    knowledge_base=kb\n)\n\n# Query with automatic context enhancement\nresponse = client.query(\n    \"How does HyperCode support neurodivergent developers?\"\n)\n\nprint(response['content'])\n```\n\n### How Context Enhancement Works\n\n1. **Query Analysis**: The client analyzes the user query\n2. **Context Retrieval**: Searches knowledge base for relevant documents\n3. **Context Ranking**: Ranks documents by relevance score\n4. **Query Enhancement**: Adds top context to query\n5. **API Call**: Sends enhanced query to Perplexity API\n6. **Response**: Returns context-aware response\n\n## Usage Examples\n\n### Example 1: Basic Search\n\n```python\nfrom hypercode.knowledge_base import KnowledgeBase\n\nkb = KnowledgeBase()\n\n# Add HyperCode documentation\nkb.add_document({\n    \"id\": \"features\",\n    \"title\": \"HyperCode Features\",\n    \"content\": \"\"\"HyperCode offers:\n    - Neurodivergent-first design\n    - Visual programming support\n    - Universal AI integration\n    - Accessible syntax\n    \"\"\",\n    \"tags\": [\"features\", \"overview\"]\n})\n\n# Search\nresults = kb.search(\"accessibility features\")\nfor doc in results:\n    print(f\"Found: {doc['title']}\")\n```\n\n### Example 2: Multi-Document Search\n\n```python\n# Add multiple documents\ndocs = [\n    {\n        \"id\": \"intro\",\n        \"title\": \"Introduction\",\n        \"content\": \"HyperCode basics...\"\n    },\n    {\n        \"id\": \"ai_guide\",\n        \"title\": \"AI Integration Guide\",\n        \"content\": \"How to integrate AI...\"\n    },\n    {\n        \"id\": \"accessibility\",\n        \"title\": \"Accessibility Features\",\n        \"content\": \"Built for neurodivergent developers...\"\n    }\n]\n\nfor doc in docs:\n    kb.add_document(doc)\n\n# Search returns ranked results\nresults = kb.search(\"neurodivergent AI programming\")\n```\n\n### Example 3: Context-Enhanced Queries\n\n```python\nfrom hypercode.enhanced_perplexity_client import EnhancedPerplexityClient\n\nclient = EnhancedPerplexityClient(\n    api_key=os.getenv(\"PERPLEXITY_API_KEY\"),\n    knowledge_base=kb\n)\n\n# Query automatically uses knowledge base context\nresponse = client.query(\n    \"What makes HyperCode different from other languages?\"\n)\n\n# Response includes both local context and Perplexity insights\nprint(response['content'])\nprint(f\"Context used: {response['context_count']} documents\")\n```\n\n## Performance Guidelines\n\n### Optimization Tips\n\n1. **Document Size**: Keep documents focused and concise\n\n   - Ideal: 100-500 words per document\n   - Maximum: 2000 words\n\n2. **Search Performance**:\n\n   - Expected: <100ms for 1000 documents\n   - Target: <1s for 10,000 documents\n\n3. **Indexing**: Use meaningful tags for faster filtering\n\n4. **Caching**: Frequently accessed documents are cached\n\n### Benchmarking\n\nRun performance benchmarks:\n\n```bash\n# Test with 100 documents\npython tests/benchmark_knowledge_base.py --size 100\n\n# Test with 1000 documents\npython tests/benchmark_knowledge_base.py --size 1000\n\n# Generate report\npython tests/benchmark_knowledge_base.py --size 1000 --report performance.md\n```\n\n## Testing\n\n### Running Tests\n\n```bash\n# Run all knowledge base tests\npytest tests/test_knowledge_base.py -v\n\n# Run with coverage\npytest tests/test_knowledge_base.py --cov=hypercode --cov-report=html\n\n# Run specific test class\npytest tests/test_knowledge_base.py::TestKnowledgeBaseSearch -v\n```\n\n### Test Coverage\n\nTarget coverage: **>80%**\n\nCovered areas:\n\n- Basic search functionality\n- Edge cases (empty queries, special characters)\n- Performance (speed, memory)\n- Integration with Perplexity\n- Document management (add, update, remove)\n\n## Best Practices\n\n### Document Organization\n\n1. **Use Hierarchical IDs**: `category.subcategory.document`\n\n   ```python\n   \"id\": \"docs.quickstart.installation\"\n   ```\n\n2. **Tag Strategically**: Use 3-5 relevant tags per document\n\n   ```python\n   \"tags\": [\"quickstart\", \"installation\", \"beginner\"]\n   ```\n\n3. **Update Metadata**: Include creation/update timestamps\n   ```python\n   \"metadata\": {\n       \"created_at\": \"2025-11-18\",\n       \"updated_at\": \"2025-11-18\",\n       \"version\": \"1.0\"\n   }\n   ```\n\n### Query Design\n\n1. **Be Specific**: \"neurodivergent ADHD features\" > \"features\"\n2. **Use Natural Language**: Write questions as you would ask them\n3. **Include Context**: \"HyperCode accessibility for dyslexia\"\n\n### Integration Patterns\n\n1. **Fallback Strategy**: Always provide fallback to direct API\n\n   ```python\n   context = kb.search(query)\n   if not context:\n       # Fallback to direct Perplexity query\n       return perplexity_client.query(query)\n   ```\n\n2. **Context Limits**: Don't overwhelm the API with too much context\n   ```python\n   # Use top 3-5 most relevant documents\n   top_context = results[:5]\n   ```\n\n## Troubleshooting\n\n### Common Issues\n\n**Issue**: Search returns no results\n\n- **Solution**: Check if documents are properly indexed\n- **Debug**: `print(kb.documents)` to see available documents\n\n**Issue**: Slow search performance\n\n- **Solution**: Reduce document count or implement caching\n- **Debug**: Run benchmark to identify bottleneck\n\n**Issue**: Context not being used in Perplexity queries\n\n- **Solution**: Verify `EnhancedPerplexityClient` initialization\n- **Debug**: Check `response['context_count']` in response\n\n## Contributing\n\nWant to improve the knowledge base? See [CONTRIBUTING.md](../CONTRIBUTING.md) for\nguidelines.\n\n### Areas for Contribution\n\n- [ ] Implement advanced ranking algorithms (TF-IDF, BM25)\n- [ ] Add fuzzy matching for typo tolerance\n- [ ] Create vector embeddings for semantic search\n- [ ] Add multi-language support\n- [ ] Implement distributed knowledge base\n\n## Related Documentation\n\n- [Enhanced Perplexity Client](./enhanced-perplexity-client.md)\n- [API Reference](./api-reference.md)\n- [Testing Guide](./testing.md)\n\n---\n\n**Questions?** Open an issue or join our\n[Discussions](https://github.com/welshDog/hypercode/discussions)!\n\n_Built with ðŸ§  for the neurodivergent community_ ðŸš€",
  "metadata": {
    "headers": [
      "HyperCode Knowledge Base Documentation",
      "Overview",
      "Architecture",
      "Core Components",
      "KnowledgeBase Class",
      "Initialize knowledge base",
      "Add documents",
      "Search documents",
      "Document Structure",
      "API Reference",
      "KnowledgeBase",
      "__init__()",
      "add_document(document: Dict[str, Any]) -> None",
      "search(query: str, limit: int = 10) -> List[Dict[str, Any]]",
      "update_document(doc_id: str, updates: Dict[str, Any]) -> None",
      "remove_document(doc_id: str) -> None",
      "Integration with Perplexity",
      "EnhancedPerplexityClient",
      "Initialize",
      "Query with automatic context enhancement",
      "How Context Enhancement Works",
      "Usage Examples",
      "Example 1: Basic Search",
      "Add HyperCode documentation",
      "Search",
      "Example 2: Multi-Document Search",
      "Add multiple documents",
      "Search returns ranked results",
      "Example 3: Context-Enhanced Queries",
      "Query automatically uses knowledge base context",
      "Response includes both local context and Perplexity insights",
      "Performance Guidelines",
      "Optimization Tips",
      "Benchmarking",
      "Test with 100 documents",
      "Test with 1000 documents",
      "Generate report",
      "Testing",
      "Running Tests",
      "Run all knowledge base tests",
      "Run with coverage",
      "Run specific test class",
      "Test Coverage",
      "Best Practices",
      "Document Organization",
      "Query Design",
      "Integration Patterns",
      "Troubleshooting",
      "Common Issues",
      "Contributing",
      "Areas for Contribution",
      "Related Documentation"
    ]
  },
  "relative_path": "src\\core\\hypercode-\\docs\\knowledge-base.md",
  "id": "c19629109f67553222954bc2a5d20f46"
}