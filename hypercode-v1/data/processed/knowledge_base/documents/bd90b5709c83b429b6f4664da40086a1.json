{
  "file_name": "test_perplexity.py",
  "file_path": "C:\\Users\\lyndz\\Downloads\\hypercode PROJECT\\hypercode\\src\\core\\hypercode-\\test_perplexity.py",
  "file_size": 3412,
  "created": "2025-11-18T00:52:17.261647",
  "modified": "2025-11-18T21:06:36.919363",
  "file_type": "code",
  "content_hash": "4d275c7a5907ecaf8cb13a27f299b360",
  "content_type": "text",
  "content": "#!/usr/bin/env python3\n\"\"\"\nTest script for Perplexity API integration with HyperCode AI Research\n\"\"\"\n\nimport sys\nfrom pathlib import Path\n\n# Add src to path\nsys.path.insert(0, str(Path(__file__).parent / \"src\"))\n\n\nfrom hypercode.perplexity_client import PerplexityClient\n\n\ndef test_perplexity_connection():\n    \"\"\"Test Perplexity API with detailed logging\"\"\"\n    print(\"Testing Perplexity API Connection...\")\n    print(\"=\" * 50)\n\n    try:\n        # Initialize client\n        client = PerplexityClient()\n        print(\"Client initialized\")\n        print(f\"API Key: {client.api_key[:10]}...{client.api_key[-10:]}\")\n        print(f\"Base URL: {client.base_url}\")\n\n        # Test query related to AI Research\n        test_prompt = \"\"\"\n        Based on the HyperCode AI Research document, what are the key features\n        of the neurodivergent-first programming language design?\n        \"\"\"\n\n        print(\"\\nSending test query...\")\n        print(f\"Prompt: {test_prompt[:100]}...\")\n\n        response = client.query(test_prompt)\n\n        if \"error\" in response:\n            print(f\"API Error: {response}\")\n            return False\n\n        print(\"API Response received!\")\n        print(f\"Response type: {type(response)}\")\n\n        # Extract content\n        if \"choices\" in response and response[\"choices\"]:\n            content = response[\"choices\"][0][\"message\"][\"content\"]\n            print(\"\\nResponse Content:\")\n            print(\"-\" * 40)\n            print(content)\n            print(\"-\" * 40)\n            return True\n        else:\n            print(f\"Unexpected response format: {response}\")\n            return False\n\n    except Exception as e:\n        print(f\"Exception occurred: {e}\")\n        import traceback\n\n        traceback.print_exc()\n        return False\n\n\ndef test_ai_research_integration():\n    \"\"\"Test integration with AI Research document content\"\"\"\n    print(\"\\nTesting AI Research Integration...\")\n    print(\"=\" * 50)\n\n    try:\n        client = PerplexityClient()\n\n        # Test queries based on AI Research document\n        queries = [\n            \"What is HyperCode's approach to neurodivergent-first design?\",\n            \"How does HyperCode support multiple AI backends?\",\n            \"What are the key phases in HyperCode's implementation roadmap?\",\n        ]\n\n        for i, query in enumerate(queries, 1):\n            print(f\"Query {i}: {query}\")\n            response = client.query(query)\n\n            if \"error\" in response:\n                print(f\"[ERROR] Error: {response['error']}\")\n                continue\n\n            if \"choices\" in response and response[\"choices\"]:\n                content = response[\"choices\"][0][\"message\"][\"content\"]\n                print(f\"[OK] Response: {content[:200]}...\")\n            else:\n                print(f\"[ERROR] Unexpected format: {response}\")\n\n    except Exception as e:\n        print(f\"[ERROR] Integration test failed: {e}\")\n\n\nif __name__ == \"__main__\":\n    print(\"HyperCode + Perplexity AI Test Suite\")\n    print(\"=\" * 60)\n\n    # Test basic connection\n    success = test_perplexity_connection()\n\n    if success:\n        # Test AI Research integration\n        test_ai_research_integration()\n        print(\"\\n[SUCCESS] All tests completed!\")\n    else:\n        print(\"\\n[FAILED] Basic connection failed - skipping integration tests\")\n",
  "metadata": {},
  "relative_path": "src\\core\\hypercode-\\test_perplexity.py",
  "id": "bd90b5709c83b429b6f4664da40086a1"
}