{
  "file_name": "test_real_data.py",
  "file_path": "C:\\Users\\lyndz\\Downloads\\hypercode PROJECT\\hypercode\\src\\core\\hypercode-\\test_real_data.py",
  "file_size": 13370,
  "created": "2025-11-18T19:56:20.721240",
  "modified": "2025-11-19T01:26:40.826893",
  "file_type": "code",
  "content_hash": "050236c0fa295891e8871b22b571f922",
  "content_type": "text",
  "content": "#!/usr/bin/env python3\n\"\"\"\nTest the enhanced KnowledgeBase with real Perplexity Space data\n\"\"\"\n\nimport sys\nfrom datetime import datetime\nfrom pathlib import Path\n\n# Add src to path\nsys.path.insert(0, str(Path(__file__).parent / \"src\"))\n\nfrom hypercode.knowledge_base import HyperCodeKnowledgeBase\n\n\ndef test_enhanced_knowledge_base():\n    \"\"\"Test enhanced KnowledgeBase functionality\"\"\"\n    print(\"ðŸ§ª Testing Enhanced HyperCode Knowledge Base\")\n    print(\"=\" * 50)\n\n    # Initialize knowledge base\n    kb = HyperCodeKnowledgeBase(\"test_data/enhanced_kb.json\")\n\n    # Test 1: Add documents with enhanced validation\n    print(\"\\n1. Testing document validation...\")\n    try:\n        # Valid document\n        doc_id = kb.add_document(\n            title=\"HyperCode Language Architecture\",\n            content=\"HyperCode supports multiple compilation targets including quantum computing, DNA computing, and traditional architectures. The language is designed with neurodivergent developers in mind, providing multiple syntax modes and AI-assisted development tools.\",\n            url=\"https://github.com/welshDog/hypercode\",\n            tags=[\"architecture\", \"quantum\", \"neurodiversity\", \"compilation\"],\n        )\n        print(f\"âœ… Added valid document: {doc_id}\")\n\n        # Test validation\n        doc = kb.get_document(doc_id)\n        doc.validate()\n        print(\"âœ… Document validation passed\")\n\n    except Exception as e:\n        print(f\"âŒ Validation test failed: {e}\")\n\n    # Test 2: Test invalid documents\n    print(\"\\n2. Testing invalid document handling...\")\n    try:\n        # Empty title\n        kb.add_document(title=\"\", content=\"Some content\")\n        print(\"âŒ Should have failed on empty title\")\n    except ValueError as e:\n        print(f\"âœ… Correctly caught empty title: {e}\")\n\n    try:\n        # Content too long\n        long_content = \"x\" * 1000001\n        kb.add_document(title=\"Too long\", content=long_content)\n        print(\"âŒ Should have failed on content too long\")\n    except ValueError as e:\n        print(f\"âœ… Correctly caught content too long: {e}\")\n\n    # Test 3: Enhanced search functionality\n    print(\"\\n3. Testing enhanced search...\")\n\n    # Add more test documents\n    docs = [\n        {\n            \"title\": \"Quantum Computing Integration\",\n            \"content\": \"HyperCode's quantum backend uses qubit manipulation and quantum gates for execution. Supports quantum algorithms like Shor's and Grover's.\",\n            \"tags\": [\"quantum\", \"computing\", \"algorithms\"],\n        },\n        {\n            \"title\": \"DNA Computing Backend\",\n            \"content\": \"The DNA computing backend uses synthetic biology for computation. Leverages DNA strand displacement and molecular reactions.\",\n            \"tags\": [\"dna\", \"computing\", \"molecular\"],\n        },\n        {\n            \"title\": \"Neurodivergent Design Patterns\",\n            \"content\": \"Design patterns specifically for neurodivergent developers including visual programming, spatial reasoning, and cognitive flexibility.\",\n            \"tags\": [\"neurodiversity\", \"design\", \"patterns\", \"accessibility\"],\n        },\n        {\n            \"title\": \"AI-Assisted Development\",\n            \"content\": \"HyperCode includes AI tools for code completion, debugging, and optimization. Supports multiple AI models and custom training.\",\n            \"tags\": [\"ai\", \"automation\", \"development\", \"tools\"],\n        },\n    ]\n\n    for doc_data in docs:\n        kb.add_document(**doc_data)\n\n    # Test search with scoring\n    results = kb.search_documents(\"quantum computing\", limit=3)\n    print(f\"âœ… Search for 'quantum computing' found {len(results)} results\")\n    for i, doc in enumerate(results, 1):\n        print(f\"  {i}. {doc.title} (tags: {', '.join(doc.tags)})\")\n\n    # Test tag-based search\n    print(\"\\n4. Testing tag-based search...\")\n    tag_results = kb.search_by_tags([\"quantum\", \"computing\"], operator=\"AND\")\n    print(f\"âœ… Tag search (quantum AND computing) found {len(tag_results)} results\")\n\n    or_results = kb.search_by_tags([\"ai\", \"quantum\"], operator=\"OR\")\n    print(f\"âœ… Tag search (ai OR quantum) found {len(or_results)} results\")\n\n    # Test 5: Document statistics\n    print(\"\\n5. Testing document statistics...\")\n    stats = kb.get_document_statistics()\n    print(f\"âœ… Total documents: {stats['total_documents']}\")\n    print(f\"âœ… Unique tags: {stats['unique_tags']}\")\n    print(f\"âœ… Average content length: {stats['average_content_length']:.0f} characters\")\n    print(f\"âœ… Tag distribution: {stats['tag_distribution']}\")\n\n    # Test 6: Document updates\n    print(\"\\n6. Testing document updates...\")\n    if results:\n        doc_id = results[0].id\n        success = kb.update_document(doc_id, title=\"Updated: \" + results[0].title)\n        print(f\"âœ… Document update {'succeeded' if success else 'failed'}\")\n\n        updated_doc = kb.get_document(doc_id)\n        print(f\"âœ… Updated title: {updated_doc.title}\")\n        print(f\"âœ… Version incremented: {updated_doc.last_updated}\")\n\n    # Test 7: Export functionality\n    print(\"\\n7. Testing export functionality...\")\n    try:\n        json_export = kb.export_format(\"json\")\n        print(f\"âœ… JSON export ({len(json_export)} characters)\")\n\n        markdown_export = kb.export_format(\"markdown\")\n        print(f\"âœ… Markdown export ({len(markdown_export)} characters)\")\n    except Exception as e:\n        print(f\"âŒ Export failed: {e}\")\n\n    # Test 8: Validation and cleanup\n    print(\"\\n8. Testing validation and cleanup...\")\n    errors = kb.validate_all_documents()\n    if errors:\n        print(f\"âŒ Found {len(errors)} validation errors:\")\n        for error in errors:\n            print(f\"  - {error}\")\n    else:\n        print(\"âœ… All documents passed validation\")\n\n    # Add a duplicate for cleanup testing\n    if docs:\n        kb.add_document(docs[0][\"title\"], docs[0][\"content\"], tags=docs[0][\"tags\"])\n        duplicates_removed = kb.cleanup_duplicates()\n        print(f\"âœ… Removed {duplicates_removed} duplicate documents\")\n\n    # Test 9: Performance with larger dataset\n    print(\"\\n9. Testing performance with larger dataset...\")\n    start_time = datetime.now()\n\n    # Add 100 test documents\n    for i in range(100):\n        kb.add_document(\n            title=f\"Test Document {i}\",\n            content=f\"This is test content for document {i}. \" * 50,\n            tags=[f\"tag{i%10}\", f\"category{i%5}\", \"test\"],\n        )\n\n    add_time = datetime.now()\n    print(f\"âœ… Added 100 documents in {(add_time - start_time).total_seconds():.2f}s\")\n\n    # Test search performance\n    search_start = datetime.now()\n    search_results = kb.search_documents(\"test document\", limit=10)\n    search_time = datetime.now()\n    print(f\"âœ… Search completed in {(search_time - search_start).total_seconds():.3f}s\")\n\n    # Final statistics\n    final_stats = kb.get_document_statistics()\n    print(\"\\nðŸ“Š Final Statistics:\")\n    print(f\"   Total documents: {final_stats['total_documents']}\")\n    print(f\"   Total content: {final_stats['total_content_length']:,} characters\")\n    print(f\"   Unique tags: {final_stats['unique_tags']}\")\n\n    print(\"\\nðŸŽ‰ All enhanced KnowledgeBase tests completed successfully!\")\n    return kb\n\n\ndef test_real_perplexity_data_simulation():\n    \"\"\"Simulate testing with real Perplexity Space data\"\"\"\n    print(\"\\nðŸš€ Simulating Real Perplexity Space Data Integration\")\n    print(\"=\" * 50)\n\n    kb = HyperCodeKnowledgeBase(\"test_data/perplexity_simulation.json\")\n\n    # Simulate real Perplexity Space document structure\n    real_docs = [\n        {\n            \"title\": \"HyperCode Language Specification - Complete Reference\",\n            \"content\": \"\"\"\n            # HyperCode Language Specification v1.0.0\n\n            ## Overview\n            HyperCode is a neurodivergent-first programming language designed for the future of computing.\n\n            ## Core Features\n            - Multi-syntax support (visual, text, spatial)\n            - Quantum compilation backend\n            - DNA computing backend\n            - Traditional compilation targets\n            - AI-assisted development\n            - Built-in accessibility features\n\n            ## Syntax Examples\n            ```hypercode\n            // Traditional syntax\n            quantum function grover_search(items) {\n                // Quantum algorithm implementation\n            }\n\n            // Visual syntax mode\n            [QUANTUM] â†’ [GROVER] â†’ [RESULT]\n            ```\n\n            ## Compilation Targets\n            1. Quantum Computing (IBM Q, Google Quantum)\n            2. DNA Computing (synthetic biology)\n            3. Traditional (x86, ARM, WebAssembly)\n            4. Neural Processing Units\n\n            ## Accessibility Features\n            - Screen reader compatibility\n            - High contrast themes\n            - Dyslexia-friendly fonts\n            - ADHD focus modes\n            - Autism spectrum support\n            \"\"\",\n            \"url\": \"https://perplexity.space/hypercode/specification\",\n            \"tags\": [\n                \"specification\",\n                \"language\",\n                \"quantum\",\n                \"dna\",\n                \"accessibility\",\n                \"neurodiversity\",\n            ],\n        },\n        {\n            \"title\": \"Perplexity Space Integration Protocol\",\n            \"content\": \"\"\"\n            Integration between HyperCode and Perplexity Space enables:\n\n            - Real-time collaboration\n            - Knowledge sharing\n            - AI model integration\n            - Research data management\n            - Community contributions\n\n            API endpoints:\n            - GET /api/hypercode/search\n            - POST /api/hypercode/documents\n            - PUT /api/hypercode/documents/:id\n            - DELETE /api/hypercode/documents/:id\n\n            Authentication via OAuth2 with Perplexity Space accounts.\n            \"\"\",\n            \"url\": \"https://perplexity.space/hypercode/integration\",\n            \"tags\": [\"integration\", \"api\", \"perplexity-space\", \"collaboration\"],\n        },\n        {\n            \"title\": \"Quantum Algorithm Implementation Guide\",\n            \"content\": \"\"\"\n            Implementing quantum algorithms in HyperCode:\n\n            ## Supported Algorithms\n            - Grover's Search Algorithm\n            - Shor's Factoring Algorithm\n            - Quantum Fourier Transform\n            - Quantum Phase Estimation\n            - Variational Quantum Eigensolver (VQE)\n\n            ## Implementation Pattern\n            ```hypercode\n            quantum algorithm grover_search(target, database) {\n                qubits = initialize_qubits(log2(len(database)))\n                oracle = create_oracle(target)\n                diffusion = create_diffusion_operator()\n\n                // Grover iteration\n                repeat(sqrt(len(database))) {\n                    apply(oracle, qubits)\n                    apply(diffusion, qubits)\n                }\n\n                return measure(qubits)\n            }\n            ```\n\n            ## Performance Considerations\n            - Quantum circuit depth optimization\n            - Qubit allocation strategies\n            - Error correction implementation\n            - Classical-quantum hybrid approaches\n            \"\"\",\n            \"url\": \"https://perplexity.space/hypercode/quantum-algorithms\",\n            \"tags\": [\n                \"quantum\",\n                \"algorithms\",\n                \"implementation\",\n                \"grover\",\n                \"shor\",\n                \"optimization\",\n            ],\n        },\n    ]\n\n    # Add simulated real documents\n    for doc_data in real_docs:\n        doc_id = kb.add_document(**doc_data)\n        print(f\"âœ… Added real-style document: {doc_data['title'][:50]}...\")\n\n    # Test realistic queries\n    test_queries = [\n        \"quantum algorithm implementation\",\n        \"perplexity space integration\",\n        \"neurodiversity accessibility features\",\n        \"DNA computing backend\",\n        \"API endpoints authentication\",\n    ]\n\n    print(\"\\nðŸ” Testing realistic search queries:\")\n    for query in test_queries:\n        results = kb.search_documents(query, limit=3)\n        print(f\"\\nQuery: '{query}'\")\n        for i, doc in enumerate(results, 1):\n            print(f\"  {i}. {doc.title}\")\n            print(f\"     Tags: {', '.join(doc.tags)}\")\n            print(f\"     Content preview: {doc.content[:100]}...\")\n\n    # Test context generation\n    print(\"\\nðŸ“ Testing context generation:\")\n    context = kb.get_context_for_query(\"quantum algorithms\", max_context_length=2000)\n    print(f\"Context length: {len(context)} characters\")\n    print(\"Context preview:\")\n    print(context[:500] + \"...\" if len(context) > 500 else context)\n\n    return kb\n\n\nif __name__ == \"__main__\":\n    # Create test data directory\n    Path(\"test_data\").mkdir(exist_ok=True)\n\n    # Run tests\n    kb1 = test_enhanced_knowledge_base()\n    kb2 = test_real_perplexity_data_simulation()\n\n    print(\"\\nðŸŽ¯ All tests completed successfully!\")\n    print(\"Enhanced KnowledgeBase is ready for production use.\")\n",
  "metadata": {},
  "relative_path": "src\\core\\hypercode-\\test_real_data.py",
  "id": "44bb9c3fd83b3968ff13515f6fbf2626"
}