{
  "file_name": "fractal.hc",
  "file_path": "C:\\Users\\lyndz\\Downloads\\hypercode PROJECT\\hypercode\\examples\\creative-demos\\fractal-explorer\\fractal.hc",
  "file_size": 5215,
  "created": "2025-11-23T21:06:23.071899",
  "modified": "2025-11-23T21:06:23.553560",
  "file_type": "other",
  "content_hash": "c16aa65d9cf8c973bd0292250781cd16",
  "content_type": "text/unknown",
  "content": "// fractal.hc - A simple fractal explorer in HyperCode\n\n// Import necessary libraries\nimport { Canvas, Color } from 'hypercode/graphics'\nimport { Vec2 } from 'hypercode/math'\n\n// Fractal types\nenum FractalType {\n    MANDELBROT = 'mandelbrot',\n    JULIA = 'julia',\n    BURNING_SHIP = 'burning_ship'\n}\n\n// Color palette generator\nclass ColorPalette {\n    static generatePalette(iterations: number): Color[] {\n        const palette: Color[] = []\n        for (let i = 0; i < iterations; i++) {\n            // Generate a smooth color gradient\n            const t = i / iterations\n            const r = Math.floor(9 * (1 - t) * t * t * t * 255)\n            const g = Math.floor(15 * Math.pow(1 - t, 2) * Math.pow(t, 2) * 255)\n            const b = Math.floor(8.5 * Math.pow(1 - t, 3) * t * 255)\n            palette.push(new Color(r, g, b, 255))\n        }\n        return palette\n    }\n}\n\n// Base fractal class\nabstract class Fractal {\n    maxIterations: number\n    escapeRadius: number\n    palette: Color[]\n\n    constructor(maxIterations: number = 100) {\n        this.maxIterations = maxIterations\n        this.escapeRadius = 2.0\n        this.palette = ColorPalette.generatePalette(maxIterations)\n    }\n\n    abstract computePoint(x: number, y: number): number\n\n    getColor(iterations: number): Color {\n        if (iterations >= this.maxIterations) {\n            return Color.BLACK\n        }\n        return this.palette[iterations % this.palette.length]\n    }\n}\n\n// Mandelbrot set implementation\nclass Mandelbrot extends Fractal {\n    computePoint(x0: number, y0: number): number {\n        let x = 0.0\n        let y = 0.0\n        let iteration = 0\n        \n        while (x * x + y * y < this.escapeRadius * this.escapeRadius && \n               iteration < this.maxIterations) {\n            const xtemp = x * x - y * y + x0\n            y = 2 * x * y + y0\n            x = xtemp\n            iteration++\n        }\n        \n        return iteration\n    }\n}\n\n// Fractal renderer\nclass FractalRenderer {\n    canvas: Canvas\n    fractal: Fractal\n    zoom: number = 1.0\n    center: Vec2 = new Vec2(0, 0)\n\n    constructor(canvas: Canvas, fractal: Fractal) {\n        this.canvas = canvas\n        this.fractal = fractal\n    }\n\n    render() {\n        const width = this.canvas.width\n        const height = this.canvas.height\n        \n        for (let py = 0; py < height; py++) {\n            for (let px = 0; px < width; px++) {\n                // Convert pixel coordinates to fractal coordinates\n                const x0 = (px - width / 2) / (0.5 * this.zoom * width) + this.center.x\n                const y0 = (py - height / 2) / (0.5 * this.zoom * height) + this.center.y\n                \n                // Compute the fractal value\n                const iterations = this.fractal.computePoint(x0, y0)\n                \n                // Get the color and set the pixel\n                const color = this.fractal.getColor(iterations)\n                this.canvas.setPixel(px, py, color)\n            }\n        }\n        \n        // Update the display\n        this.canvas.update()\n    }\n    \n    zoomIn(factor: number = 1.5) {\n        this.zoom *= factor\n    }\n    \n    zoomOut(factor: number = 1.5) {\n        this.zoom /= factor\n    }\n    \n    move(dx: number, dy: number) {\n        this.center.x += dx / this.zoom\n        this.center.y += dy / this.zoom\n    }\n}\n\n// Main application\nfunction main() {\n    // Create a canvas\n    const canvas = new Canvas(800, 600, 'fractalCanvas')\n    \n    // Create a fractal\n    const mandelbrot = new Mandelbrot(100)\n    \n    // Create a renderer\n    const renderer = new FractalRenderer(canvas, mandelbrot)\n    \n    // Initial render\n    renderer.render()\n    \n    // Add event listeners for interactivity\n    canvas.onClick((x, y) => {\n        // Zoom in at the clicked point\n        const dx = (x - canvas.width / 2) / (0.5 * renderer.zoom * canvas.width)\n        const dy = (y - canvas.height / 2) / (0.5 * renderer.zoom * canvas.height)\n        renderer.center.x += dx\n        renderer.center.y += dy\n        renderer.zoomIn()\n        renderer.render()\n    })\n    \n    // Keyboard controls\n    document.addEventListener('keydown', (event) => {\n        const moveStep = 0.1 / renderer.zoom\n        \n        switch (event.key) {\n            case 'ArrowUp':\n                renderer.move(0, -moveStep)\n                break\n            case 'ArrowDown':\n                renderer.move(0, moveStep)\n                break\n            case 'ArrowLeft':\n                renderer.move(-moveStep, 0)\n                break\n            case 'ArrowRight':\n                renderer.move(moveStep, 0)\n                break\n            case '+':\n                renderer.zoomIn()\n                break\n            case '-':\n                renderer.zoomOut()\n                break\n            case 'r':\n                // Reset view\n                renderer.zoom = 1.0\n                renderer.center = new Vec2(0, 0)\n                break\n        }\n        \n        renderer.render()\n    })\n}\n\n// Start the application\nmain()\n",
  "metadata": {},
  "relative_path": "examples\\creative-demos\\fractal-explorer\\fractal.hc",
  "id": "ca59be3f6fe5466b8a753a353e55a05c"
}