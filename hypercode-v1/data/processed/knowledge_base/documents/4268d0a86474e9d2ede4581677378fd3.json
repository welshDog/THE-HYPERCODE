{
  "file_name": "import_perplexity_space.py",
  "file_path": "C:\\Users\\lyndz\\Downloads\\hypercode PROJECT\\hypercode\\src\\core\\hypercode-\\import_perplexity_space.py",
  "file_size": 7064,
  "created": "2025-11-18T01:09:17.623621",
  "modified": "2025-11-18T19:47:10.939295",
  "file_type": "code",
  "content_hash": "978d643b89531ca693e645e88a153a44",
  "content_type": "text",
  "content": "#!/usr/bin/env python3\n\"\"\"\nPerplexity Space Data Importer\nHelps import research data from your Perplexity Space into the HyperCode knowledge base\n\"\"\"\n\nimport json\nimport sys\nfrom pathlib import Path\n\n# Add src to path\nsys.path.insert(0, str(Path(__file__).parent / \"src\"))\n\nfrom hypercode.enhanced_perplexity_client import EnhancedPerplexityClient\n\n\ndef create_manual_import_script():\n    \"\"\"Create a script for manual data entry from Perplexity Space\"\"\"\n    print(\"ğŸ“ Manual Data Entry Script\")\n    print(\"=\" * 40)\n\n    client = EnhancedPerplexityClient()\n\n    print(\n        \"\"\"\n    To import your Perplexity Space data, you have several options:\n\n    1. ğŸ“‹ Manual Entry (Recommended for small amounts of data)\n    2. ğŸ“„ JSON Import (For structured data)\n    3. ğŸŒ Web Scraping (Advanced - requires access to the space)\n\n    Let's start with manual entry...\n    \"\"\"\n    )\n\n    documents_added = 0\n\n    while True:\n        print(f\"\\nğŸ“„ Document {documents_added + 1}\")\n        print(\"-\" * 30)\n\n        title = input(\"Enter document title (or 'done' to finish): \").strip()\n\n        if title.lower() == \"done\":\n            break\n\n        print(\"Enter document content (press Enter twice to finish):\")\n        content_lines = []\n        empty_line_count = 0\n\n        while True:\n            line = input()\n            if line.strip() == \"\":\n                empty_line_count += 1\n                if empty_line_count >= 2:\n                    break\n            else:\n                empty_line_count = 0\n            content_lines.append(line)\n\n        content = \"\\n\".join(content_lines)\n\n        # Get tags\n        tags_input = input(\"Enter tags (comma-separated, optional): \").strip()\n        tags = [tag.strip() for tag in tags_input.split(\",\")] if tags_input else []\n\n        # Get URL\n        url = input(\"Enter URL (optional): \").strip() or None\n\n        # Add to knowledge base\n        try:\n            doc_id = client.add_research_data(title, content, url, tags)\n            print(f\"âœ… Added document: {doc_id}\")\n            documents_added += 1\n        except Exception as e:\n            print(f\"âŒ Error adding document: {e}\")\n\n        continue_input = input(\"Add another document? (y/n): \").strip().lower()\n        if continue_input != \"y\":\n            break\n\n    print(f\"\\nğŸ‰ Added {documents_added} documents to the knowledge base!\")\n    return documents_added\n\n\ndef create_json_import_template():\n    \"\"\"Create a JSON template for importing data\"\"\"\n    template = {\n        \"import_instructions\": \"\"\"\n        Fill in this template with your Perplexity Space data.\n        Each document should have:\n        - title: Document title\n        - content: Full document content\n        - url: Source URL (optional)\n        - tags: List of relevant tags (optional)\n        \"\"\",\n        \"documents\": [\n            {\n                \"title\": \"Example: Your Research Topic\",\n                \"content\": \"Paste your research content here...\",\n                \"url\": \"https://www.perplexity.ai/spaces/hypercode-8B7p3SNcRcWhtGCk5ZGzjQ\",\n                \"tags\": [\"research\", \"hypercode\", \"example\"],\n            }\n        ],\n    }\n\n    with open(\"perplexity_space_data.json\", \"w\", encoding=\"utf-8\") as f:\n        json.dump(template, f, indent=2, ensure_ascii=False)\n\n    print(\"ğŸ“„ Created perplexity_space_data.json template\")\n    print(\"   Edit this file with your actual data, then run:\")\n    print(\"   python import_perplexity_space.py json\")\n\n\ndef import_from_json():\n    \"\"\"Import data from JSON file\"\"\"\n    client = EnhancedPerplexityClient()\n\n    try:\n        with open(\"perplexity_space_data.json\", \"r\", encoding=\"utf-8\") as f:\n            data = json.load(f)\n\n        if \"documents\" not in data:\n            print(\"âŒ JSON file must contain a 'documents' array\")\n            return False\n\n        imported_count = 0\n        for doc in data[\"documents\"]:\n            try:\n                client.add_research_data(\n                    title=doc.get(\"title\", \"Untitled\"),\n                    content=doc.get(\"content\", \"\"),\n                    url=doc.get(\"url\"),\n                    tags=doc.get(\"tags\", []),\n                )\n                imported_count += 1\n                print(f\"âœ… Imported: {doc.get('title', 'Untitled')}\")\n            except Exception as e:\n                print(f\"âŒ Error importing '{doc.get('title', 'Unknown')}': {e}\")\n\n        print(f\"\\nğŸ‰ Successfully imported {imported_count} documents!\")\n        return True\n\n    except FileNotFoundError:\n        print(\"âŒ File perplexity_space_data.json not found\")\n        print(\"   Run this script first to create the template\")\n        return False\n    except json.JSONDecodeError as e:\n        print(f\"âŒ Invalid JSON format: {e}\")\n        return False\n\n\ndef test_imported_data():\n    \"\"\"Test the imported data with context-aware queries\"\"\"\n    print(\"\\nğŸ§ª Testing Imported Data\")\n    print(\"=\" * 30)\n\n    client = EnhancedPerplexityClient()\n\n    # List all documents\n    docs = client.list_research_documents()\n    print(f\"ğŸ“š Knowledge base contains {len(docs)} documents:\")\n\n    for doc in docs:\n        print(f\"  - {doc.title} ({len(doc.content)} chars)\")\n\n    # Test context-aware queries\n    test_queries = [\n        \"What is HyperCode?\",\n        \"Tell me about the research findings\",\n        \"What are the main features?\",\n        \"How does this relate to neurodiversity?\",\n    ]\n\n    print(\"\\nğŸ” Testing context-aware queries:\")\n\n    for query in test_queries:\n        print(f\"\\nâ“ Query: {query}\")\n        response = client.query_with_context(query, use_knowledge_base=True)\n\n        if \"choices\" in response and response[\"choices\"]:\n            content = response[\"choices\"][0][\"message\"][\"content\"]\n            print(f\"âœ… Response: {content[:200]}...\")\n        else:\n            print(f\"âŒ Error: {response}\")\n\n\ndef show_import_menu():\n    \"\"\"Show the import menu\"\"\"\n    print(\"ğŸš€ Perplexity Space Data Importer\")\n    print(\"=\" * 40)\n    print(\"\\nChoose an import method:\")\n    print(\"1. ğŸ“‹ Manual data entry\")\n    print(\"2. ğŸ“„ Create JSON template\")\n    print(\"3. ğŸ“¥ Import from JSON file\")\n    print(\"4. ğŸ§ª Test imported data\")\n    print(\"5. âŒ Exit\")\n\n    while True:\n        choice = input(\"\\nEnter your choice (1-5): \").strip()\n\n        if choice == \"1\":\n            create_manual_import_script()\n            break\n        elif choice == \"2\":\n            create_json_import_template()\n            break\n        elif choice == \"3\":\n            if import_from_json():\n                test_imported_data()\n            break\n        elif choice == \"4\":\n            test_imported_data()\n            break\n        elif choice == \"5\":\n            print(\"ğŸ‘‹ Goodbye!\")\n            break\n        else:\n            print(\"âŒ Invalid choice. Please enter 1-5.\")\n\n\nif __name__ == \"__main__\":\n    show_import_menu()\n",
  "metadata": {},
  "relative_path": "src\\core\\hypercode-\\import_perplexity_space.py",
  "id": "4268d0a86474e9d2ede4581677378fd3"
}