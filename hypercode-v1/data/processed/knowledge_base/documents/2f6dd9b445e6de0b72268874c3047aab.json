{
  "file_name": "api_server.hc",
  "file_path": "C:\\Users\\lyndz\\Downloads\\hypercode PROJECT\\hypercode\\hypercode\\examples\\api_server.hc",
  "file_size": 5388,
  "created": "2025-11-26T23:37:35.473029",
  "modified": "2025-11-26T23:37:35.473029",
  "file_type": "other",
  "content_hash": "24f9019399fd2419d1d2e65428e4ba39",
  "content_type": "text/unknown",
  "content": "# ğŸš€ HyperCode API Server Example\n# A simple REST API server built with HyperCode's neurodivergent-friendly syntax\n\nimport { Server, Router, Database } from hypercode:web\n\n# ğŸŒ API Server Configuration\napi_server Server {\n    name: \"HyperCode API Demo\"\n    port: 8080\n    host: \"localhost\"\n    \n    # ğŸ§  Neurodivergent-friendly: Clear visual structure\n    routes: [\n        # GET /api/users - Fetch all users\n        GET /api/users => fetch_all_users()\n        \n        # POST /api/users - Create new user  \n        POST /api/users => create_user()\n        \n        # GET /api/users/:id - Fetch specific user\n        GET /api/users/[id] => fetch_user(id)\n        \n        # PUT /api/users/:id - Update user\n        PUT /api/users/[id] => update_user(id)\n        \n        # DELETE /api/users/:id - Delete user\n        DELETE /api/users/[id] => delete_user(id)\n    ]\n}\n\n# ğŸ“Š Database Connection (visual syntax)\ndb_connection Database {\n    type: \"sqlite\"\n    path: \"./users.db\"\n    \n    # ğŸ¯ Clear table structure\n    tables: {\n        users: {\n            id: INTEGER PRIMARY_KEY\n            name: TEXT NOT_NULL\n            email: TEXT UNIQUE\n            created_at: TIMESTAMP DEFAULT_NOW\n        }\n    }\n}\n\n# ğŸ”§ Helper Functions with visual clarity\n\nfunction fetch_all_users() {\n    # ğŸ“‹ Get all users from database\n    users â† db_connection.query(\"SELECT * FROM users ORDER BY created_at DESC\")\n    \n    # ğŸ¨ Format response for neurodivergent clarity\n    response â† {\n        status: \"success\"\n        data: users\n        count: length(users)\n        message: \"âœ… Retrieved all users successfully\"\n    }\n    \n    return response\n}\n\nfunction create_user() {\n    # ğŸ“ Extract user data from request\n    user_data â† request.body()\n    \n    # âœ… Validate input (visual validation flow)\n    if NOT user_data.name OR NOT user_data.email {\n        return {\n            status: \"error\"\n            message: \"âŒ Name and email are required\"\n            code: 400\n        }\n    }\n    \n    # ğŸ’¾ Insert new user\n    result â† db_connection.insert(\"users\", user_data)\n    \n    if result.success {\n        return {\n            status: \"success\"\n            data: result.user\n            message: \"âœ… User created successfully\"\n            code: 201\n        }\n    } else {\n        return {\n            status: \"error\"\n            message: \"âŒ Failed to create user\"\n            error: result.error\n            code: 500\n        }\n    }\n}\n\nfunction fetch_user(id) {\n    # ğŸ” Find user by ID\n    user â† db_connection.find(\"users\", {id: id})\n    \n    if user {\n        return {\n            status: \"success\"\n            data: user\n            message: \"âœ… User found\"\n        }\n    } else {\n        return {\n            status: \"error\"\n            message: \"âŒ User not found\"\n            code: 404\n        }\n    }\n}\n\nfunction update_user(id) {\n    # ğŸ“ Get update data\n    update_data â† request.body()\n    \n    # ğŸ” Check if user exists\n    existing_user â† db_connection.find(\"users\", {id: id})\n    \n    if NOT existing_user {\n        return {\n            status: \"error\"\n            message: \"âŒ User not found\"\n            code: 404\n        }\n    }\n    \n    # âœï¸ Update user\n    result â† db_connection.update(\"users\", {id: id}, update_data)\n    \n    if result.success {\n        return {\n            status: \"success\"\n            data: result.user\n            message: \"âœ… User updated successfully\"\n        }\n    } else {\n        return {\n            status: \"error\"\n            message: \"âŒ Failed to update user\"\n            error: result.error\n            code: 500\n        }\n    }\n}\n\nfunction delete_user(id) {\n    # ğŸ” Check if user exists\n    existing_user â† db_connection.find(\"users\", {id: id})\n    \n    if NOT existing_user {\n        return {\n            status: \"error\"\n            message: \"âŒ User not found\"\n            code: 404\n        }\n    }\n    \n    # ğŸ—‘ï¸ Delete user\n    result â† db_connection.delete(\"users\", {id: id})\n    \n    if result.success {\n        return {\n            status: \"success\"\n            message: \"âœ… User deleted successfully\"\n        }\n    } else {\n        return {\n            status: \"error\"\n            message: \"âŒ Failed to delete user\"\n            error: result.error\n            code: 500\n        }\n    }\n}\n\n# ğŸš€ Start the server\nmain() {\n    print(\"ğŸš€ Starting HyperCode API Server...\")\n    print(\"ğŸ“ Server will be available at: http://localhost:8080\")\n    print(\"ğŸ“š API Documentation:\")\n    print(\"   GET    /api/users     - List all users\")\n    print(\"   POST   /api/users     - Create new user\")\n    print(\"   GET    /api/users/:id - Get specific user\")\n    print(\"   PUT    /api/users/:id - Update user\")\n    print(\"   DELETE /api/users/:id - Delete user\")\n    \n    # ğŸ¯ Start server with visual feedback\n    api_server.start()\n    \n    print(\"âœ… Server is running! ğŸ‰\")\n    print(\"ğŸ’¡ Try: curl http://localhost:8080/api/users\")\n}\n\n# ğŸ§  Accessibility Features:\n# - Clear visual structure with emojis\n# - Consistent error handling patterns\n# - Self-documenting code with visual cues\n# - Predictable response formats\n# - Color-coded status indicators (âœ…/âŒ)\n",
  "metadata": {},
  "relative_path": "hypercode\\examples\\api_server.hc",
  "id": "2f6dd9b445e6de0b72268874c3047aab"
}