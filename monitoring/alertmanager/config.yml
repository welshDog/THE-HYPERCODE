route:
  group_by: ['alertname']
  group_wait: 30s
  group_interval: 5m
  repeat_interval: 2h
  receiver: 'slack'
  routes:
    - match:
        severity: page
      receiver: 'pagerduty'
    - match_re:
        service: ".*"
      receiver: 'slack'
inhibit_rules:
  - source_match:
      severity: critical
    target_match:
      severity: warning
    equal: ['alertname']
receivers:
  - name: 'slack'
    slack_configs:
      - channel: '#alerts'
        send_resolved: true
        api_url: ${SLACK_WEBHOOK_URL}
  - name: 'pagerduty'
    pagerduty_configs:
      - routing_key: ${PAGERDUTY_ROUTING_KEY}
        send_resolved: true
